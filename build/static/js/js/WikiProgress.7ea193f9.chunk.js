webpackJsonp([9],{1067:function(e,t,n){var r=n(1068)("round");e.exports=r},1068:function(e,t,n){var r=n(38),a=n(145),o=n(80),c=Math.min;e.exports=function(e){var t=Math[e];return function(e,n){if(e=a(e),n=null==n?0:c(r(n),292)){var s=(o(e)+"e").split("e"),i=t(s[0]+"e"+(+s[1]+n));return+((s=(o(i)+"e").split("e"))[0]+"e"+(+s[1]-n))}return t(e)}}},1069:function(e,t,n){var r=n(382),a=n(145);e.exports=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=a(n))===n?n:0),void 0!==t&&(t=(t=a(t))===t?t:0),r(a(e),t,n)}},1070:function(e,t,n){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}},1071:function(e,t,n){"use strict";var r=new RegExp("%[a-f0-9]{2}","gi"),a=new RegExp("(%[a-f0-9]{2})+","gi");function o(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],o(n),o(r))}function c(e){try{return decodeURIComponent(e)}catch(a){for(var t=e.match(r),n=1;n<t.length;n++)t=(e=o(t,n).join("")).match(r);return e}}e.exports=function(e){if("string"!==typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},n=a.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var r=c(n[0]);r!==n[0]&&(t[n[0]]=r)}n=a.exec(e)}t["%C2"]="\ufffd";for(var o=Object.keys(t),s=0;s<o.length;s++){var i=o[s];e=e.replace(new RegExp(i,"g"),t[i])}return e}(e)}}},892:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(913),a=n.n(r),o=n(0),c=n.n(o),s=n(55),i=n(44),u=n(923),l=n.n(u),f=(n(909),n(228),n(225));function p(e){return(p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return!t||"object"!==p(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),y(this,v(t).apply(this,arguments))}var n,r,s;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,o["Component"]),n=t,(r=[{key:"componentWillMount",value:function(){var e=this.props,t=e.match,n=e.dispatch,r=t.params.title,a=l.a.parse(location.search).wikiSource;n(f.a.fetchConversionProgress({title:r,wikiSource:a})),this._sessionPoller||this._startPoller()}},{key:"componentWillReceiveProps",value:function(e){var t=this;!0===e.conversionPercentage.converted&&100===e.conversionPercentage.progress&&(this._stopPoller(),setTimeout(function(){t._navigateToArticle()},100))}},{key:"componentWillUnmount",value:function(){this._stopPoller(),this.props.dispatch(f.a.clearConversionProgress())}},{key:"_startPoller",value:function(){var e=this,t=this.props,n=t.match,r=t.dispatch,a=n.params.title,o=l.a.parse(location.search).wikiSource;this._sessionPoller=setInterval(function(){r(f.a.fetchConversionProgress({title:a,wikiSource:o})),e.props.conversionPercentage.converted&&100===e.props.conversionPercentage.progress&&e._stopPoller()},1e4)}},{key:"_stopPoller",value:function(){this._sessionPoller&&(clearInterval(this._sessionPoller),this._sessionPoller=null)}},{key:"_navigateToArticle",value:function(){var e=this;setTimeout(function(){if(e.props.conversionPercentage.converted){var t=l.a.parse(location.search).wikiSource;e.props.history.push("/".concat(e.props.language,"/videowiki/").concat(e.props.conversionPercentage.title,"?wikiSource=").concat(t))}},1e3)}},{key:"_render",value:function(){var e=this.props,t=e.match,n=e.conversionPercentage,r=t.params.title,o=n?n.progress:0;return c.a.createElement("div",{className:"u-page-center"},c.a.createElement("h2",null,"Converting Wikipedia Article for ".concat(r.split("_").join(" ")," to VideoWiki")),c.a.createElement(a.a,{className:"c-app-conversion-progress",percent:o,progress:!0,indicating:!0}),c.a.createElement("div",null,c.a.createElement("span",null,"Converting - ".concat(o,"% converted"))),c.a.createElement("div",null,c.a.createElement("strong",null,"Quick Fact: "),"It takes 4-5 minutes to convert an article. So get some ",c.a.createElement("img",{className:"c-app-coffee",src:"https://s3.eu-central-1.amazonaws.com/vwpmedia/statics/coffee.png"})," until then."))}},{key:"render",value:function(){return this._render()}}])&&d(n.prototype,r),s&&d(n,s),t}();t.default=Object(i.f)(Object(s.b)(function(e){return Object.assign({language:e.ui.language},e.wikiProgress,e.article)})(m))},907:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(2)),a=i(n(19)),o=i(n(3)),c=(i(n(4)),i(n(0))),s=n(5);function i(e){return e&&e.__esModule?e:{default:e}}function u(e){var t=e.children,n=e.className,i=e.content,l=(0,o.default)("content",n),f=(0,s.getUnhandledProps)(u,e),p=(0,s.getElementType)(u,e);return c.default.createElement(p,(0,r.default)({},f,{className:l}),(0,a.default)(t)?i:t)}u.handledProps=["as","children","className","content"],u._meta={name:"MessageItem",parent:"Message",type:s.META.TYPES.COLLECTION},u.defaultProps={as:"li"},u.create=(0,s.createShorthandFactory)(u,function(e){return{content:e}}),t.default=u},908:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=g(n(2)),a=g(n(20)),o=g(n(21)),c=g(n(22)),s=g(n(23)),i=g(n(19)),u=(g(n(79)),g(n(3))),l=(g(n(4)),n(0)),f=g(l),p=n(5),d=g(n(101)),y=g(n(910)),v=g(n(911)),h=g(n(912)),m=g(n(907));function g(e){return e&&e.__esModule?e:{default:e}}var b=function(e){function t(){var e,n,r,o;(0,a.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return n=r=(0,c.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.handleDismiss=function(e){var t=r.props.onDismiss;t&&t(e,r.props)},o=n,(0,c.default)(r,o)}return(0,s.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,n=e.attached,a=e.children,o=e.className,c=e.color,s=e.compact,l=e.content,m=e.error,g=e.floating,b=e.header,_=e.hidden,O=e.icon,P=e.info,E=e.list,j=e.negative,w=e.onDismiss,M=e.positive,S=e.size,T=e.success,k=e.visible,C=e.warning,N=(0,u.default)("ui",c,S,(0,p.useKeyOnly)(s,"compact"),(0,p.useKeyOnly)(m,"error"),(0,p.useKeyOnly)(g,"floating"),(0,p.useKeyOnly)(_,"hidden"),(0,p.useKeyOnly)(O,"icon"),(0,p.useKeyOnly)(P,"info"),(0,p.useKeyOnly)(j,"negative"),(0,p.useKeyOnly)(M,"positive"),(0,p.useKeyOnly)(T,"success"),(0,p.useKeyOnly)(k,"visible"),(0,p.useKeyOnly)(C,"warning"),(0,p.useKeyOrValueAndKey)(n,"attached"),"message",o),A=w&&f.default.createElement(d.default,{name:"close",onClick:this.handleDismiss}),I=(0,p.getUnhandledProps)(t,this.props),K=(0,p.getElementType)(t,this.props);return(0,i.default)(a)?f.default.createElement(K,(0,r.default)({},I,{className:N}),A,d.default.create(O),(!(0,i.default)(b)||!(0,i.default)(l)||!(0,i.default)(E))&&f.default.createElement(y.default,null,v.default.create(b),h.default.create(E),(0,p.createHTMLParagraph)(l))):f.default.createElement(K,(0,r.default)({},I,{className:N}),A,a)}}]),t}(l.Component);b._meta={name:"Message",type:p.META.TYPES.COLLECTION},b.Content=y.default,b.Header=v.default,b.List=h.default,b.Item=m.default,b.handledProps=["as","attached","children","className","color","compact","content","error","floating","header","hidden","icon","info","list","negative","onDismiss","positive","size","success","visible","warning"],t.default=b},909:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(908),a=n.n(r),o=n(0),c=n.n(o),s=n(378);function i(e){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,f(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,o["Component"]),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.componentState,n=e.loaderMessage,r=e.errorMessage,o=e.onRender;switch(t){case"done":return o();case"loading":return this.props.loaderDisabled?null:c.a.createElement(s.a,{loaderImage:this.props.loaderImage},n);case"failed":return c.a.createElement(a.a,{color:"red",size:"massive"},r);default:return this.props.loaderDisabled?null:c.a.createElement(s.a,{loaderImage:this.props.loaderImage})}}}])&&u(n.prototype,r),i&&u(n,i),t}()},910:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(2)),a=s(n(3)),o=(s(n(4)),s(n(0))),c=n(5);function s(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.children,n=e.className,s=(0,a.default)("content",n),u=(0,c.getUnhandledProps)(i,e),l=(0,c.getElementType)(i,e);return o.default.createElement(l,(0,r.default)({},u,{className:s}),t)}i.handledProps=["as","children","className"],i._meta={name:"MessageContent",parent:"Message",type:c.META.TYPES.COLLECTION},t.default=i},911:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(2)),a=i(n(19)),o=i(n(3)),c=(i(n(4)),i(n(0))),s=n(5);function i(e){return e&&e.__esModule?e:{default:e}}function u(e){var t=e.children,n=e.className,i=e.content,l=(0,o.default)("header",n),f=(0,s.getUnhandledProps)(u,e),p=(0,s.getElementType)(u,e);return c.default.createElement(p,(0,r.default)({},f,{className:l}),(0,a.default)(t)?i:t)}u.handledProps=["as","children","className","content"],u._meta={name:"MessageHeader",parent:"Message",type:s.META.TYPES.COLLECTION},u.create=(0,s.createShorthandFactory)(u,function(e){return{content:e}}),t.default=u},912:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(2)),a=l(n(100)),o=l(n(19)),c=l(n(3)),s=(l(n(4)),l(n(0))),i=n(5),u=l(n(907));function l(e){return e&&e.__esModule?e:{default:e}}function f(e){var t=e.children,n=e.className,l=e.items,p=(0,c.default)("list",n),d=(0,i.getUnhandledProps)(f,e),y=(0,i.getElementType)(f,e);return s.default.createElement(y,(0,r.default)({},d,{className:p}),(0,o.default)(t)?(0,a.default)(l,u.default.create):t)}f.handledProps=["as","children","className","items"],f._meta={name:"MessageList",parent:"Message",type:i.META.TYPES.COLLECTION},f.defaultProps={as:"ul"},f.create=(0,i.createShorthandFactory)(f,function(e){return{items:e}}),t.default=f},913:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=h(n(2)),a=h(n(20)),o=h(n(21)),c=h(n(22)),s=h(n(23)),i=h(n(19)),u=h(n(1067)),l=h(n(1069)),f=h(n(147)),p=(h(n(79)),h(n(3))),d=(h(n(4)),n(0)),y=h(d),v=n(5);function h(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){var e,n,r,o;(0,a.default)(this,t);for(var s=arguments.length,p=Array(s),d=0;d<s;d++)p[d]=arguments[d];return n=r=(0,c.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(p))),r.calculatePercent=function(){var e=r.props,t=e.percent,n=e.total,a=e.value;return(0,f.default)(t)?(0,f.default)(n)||(0,f.default)(a)?void 0:a/n*100:t},r.getPercent=function(){var e=r.props.precision,t=(0,l.default)(r.calculatePercent(),0,100);return(0,f.default)(e)?t:(0,u.default)(t,e)},r.isAutoSuccess=function(){var e=r.props,t=e.autoSuccess,n=e.percent,a=e.total,o=e.value;return t&&(n>=100||o>=a)},r.renderLabel=function(){var e=r.props,t=e.children,n=e.label;return(0,i.default)(t)?(0,v.createHTMLDivision)(n,{defaultProps:{className:"label"}}):y.default.createElement("div",{className:"label"},t)},r.renderProgress=function(e){var t=r.props,n=t.precision,a=t.progress,o=t.total,c=t.value;if(a||!(0,f.default)(n))return y.default.createElement("div",{className:"progress"},"ratio"!==a?e+"%":c+"/"+o)},o=n,(0,c.default)(r,o)}return(0,s.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,n=e.active,a=e.attached,o=e.className,c=e.color,s=e.disabled,i=e.error,u=e.indicating,l=e.inverted,f=e.size,d=e.success,h=e.warning,m=(0,p.default)("ui",c,f,(0,v.useKeyOnly)(n||u,"active"),(0,v.useKeyOnly)(s,"disabled"),(0,v.useKeyOnly)(i,"error"),(0,v.useKeyOnly)(u,"indicating"),(0,v.useKeyOnly)(l,"inverted"),(0,v.useKeyOnly)(d||this.isAutoSuccess(),"success"),(0,v.useKeyOnly)(h,"warning"),(0,v.useValueAndKey)(a,"attached"),"progress",o),g=(0,v.getUnhandledProps)(t,this.props),b=(0,v.getElementType)(t,this.props),_=this.getPercent();return y.default.createElement(b,(0,r.default)({},g,{className:m,"data-percent":Math.floor(_)}),y.default.createElement("div",{className:"bar",style:{width:_+"%"}},this.renderProgress(_)),this.renderLabel())}}]),t}(d.Component);m._meta={name:"Progress",type:v.META.TYPES.MODULE},m.handledProps=["active","as","attached","autoSuccess","children","className","color","disabled","error","indicating","inverted","label","percent","precision","progress","size","success","total","value","warning"],t.default=m},923:function(e,t,n){"use strict";var r=n(1070),a=n(10),o=n(1071);function c(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function s(e){var t=e.indexOf("?");return-1===t?"":e.slice(t+1)}function i(e,t){var n=function(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return function(e,n,r){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};default:return function(e,t,n){void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t=a({arrayFormat:"none"},t)),r=Object.create(null);return"string"!==typeof e?r:(e=e.trim().replace(/^[?#&]/,""))?(e.split("&").forEach(function(e){var t=e.replace(/\+/g," ").split("="),a=t.shift(),c=t.length>0?t.join("="):void 0;c=void 0===c?null:o(c),n(o(a),c,r)}),Object.keys(r).sort().reduce(function(e,t){var n=r[t];return Boolean(n)&&"object"===typeof n&&!Array.isArray(n)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"===typeof t?e(Object.keys(t)).sort(function(e,t){return Number(e)-Number(t)}).map(function(e){return t[e]}):t}(n):e[t]=n,e},Object.create(null))):r}t.extract=s,t.parse=i,t.stringify=function(e,t){!1===(t=a({encode:!0,strict:!0,arrayFormat:"none"},t)).sort&&(t.sort=function(){});var n=function(e){switch(e.arrayFormat){case"index":return function(t,n,r){return null===n?[c(t,e),"[",r,"]"].join(""):[c(t,e),"[",c(r,e),"]=",c(n,e)].join("")};case"bracket":return function(t,n){return null===n?c(t,e):[c(t,e),"[]=",c(n,e)].join("")};default:return function(t,n){return null===n?c(t,e):[c(t,e),"=",c(n,e)].join("")}}}(t);return e?Object.keys(e).sort(t.sort).map(function(r){var a=e[r];if(void 0===a)return"";if(null===a)return c(r,t);if(Array.isArray(a)){var o=[];return a.slice().forEach(function(e){void 0!==e&&o.push(n(r,e,o.length))}),o.join("&")}return c(r,t)+"="+c(a,t)}).filter(function(e){return e.length>0}).join("&"):""},t.parseUrl=function(e,t){return{url:e.split("?")[0]||"",query:i(s(e),t)}}}});
//# sourceMappingURL=WikiProgress.7ea193f9.chunk.js.map